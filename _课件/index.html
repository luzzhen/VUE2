<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./assets/reset.css" />
    <link rel="stylesheet" href="./index.css" />
    <script src="../vue.js"></script>
    <script src="./axios.js"></script>
  </head>

  <body>
    <div id="app">
     <!-- <video-item
      v-for="video in videoList"
      :poster="video.poster"
      :play="video.play"
      :rank="video.rank"
      :title="video.title"
     ></video-item> -->

    <br>
    <br>
    <br>
    <br>
    <video-list
      :video-list = "videoList"
    ></video-list>
    </div>
    
    <script>

      Vue.component("video-list",{
        props:["video-list"],
        template:`
          <div class="video-list">
            <video-item
              v-for="video in videoList"
              v-bind="video"
            ></video-item>
          </div>
        `
      })


      Vue.component("video-item",{
        props:["poster","play","rank","title"],
        template:`
        <div class="video-item">
          <div class="poster">
            <img :src="poster" alt="">
            <div class="info">
              <div class="play">{{ play }}</div>
              <div class="rank">{{ rank }}</div>
            </div>
          </div>
          <div class="title">{{ title }}</div>
        </div>
        `
      })
      const vm = new Vue({
        el: "#app",
        data:{
          videoList :[],
        },
        created() {
          axios.get("https://developer.duyiedu.com/vue/bz/video",{
            params:{
              start: 0,
              offset:10,
            }
          }).then(res =>{
            this.videoList = res.data.data
            console.log(this.videoList);
          })
        },
      });
    </script>
  </body>
</html>
